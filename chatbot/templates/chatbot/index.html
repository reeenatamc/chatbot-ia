<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot IA</title>
    {% load static %}
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&family=Dancing+Script:wght@700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="{% static 'chatbot/css/style.css' %}">
</head>
<body>
    <!-- Landing page background -->
    <div class="landing-background">
        <div class="bg-overlay"></div>
        <div class="bg-shapes">
            <div class="shape shape-1"></div>
            <div class="shape shape-2"></div>
            <div class="shape shape-3"></div>
            <div class="shape shape-4"></div>
        </div>
    </div>
    
    <div class="container">
        <!-- Pantalla inicial -->
        <div class="welcome-screen" id="welcomeScreen">
            <div class="video-container">
                <video src="{% static 'videos/video_con_fondo.mp4' %}" class="welcome-video" autoplay playsinline></video>
            </div>
            
            <div class="welcome-buttons">
                <button class="icon-button" id="repeatButton" title="Repetir">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M1 4V10H7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M23 20V14H17" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M20.49 9A9 9 0 0 0 5.64 5.64L1 10M23 14L18.36 18.36A9 9 0 0 1 3.51 15" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
                <button class="icon-button" id="paperButton" title="Hoja de papel">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14 2H6C5.46957 2 4.96086 2.21071 4.58579 2.58579C4.21071 2.96086 4 3.46957 4 4V20C4 20.5304 4.21071 21.0391 4.58579 21.4142C4.96086 21.7893 5.46957 22 6 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V8L14 2Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M14 2V8H20" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 13H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M16 17H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M10 9H9H8" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </button>
            </div>
            
            <div class="welcome-buttons-bottom">
                <div class="button-wrap">
                    <button id="startButton">
                        <span>Comenzar
                            <svg width="30" height="28" viewBox="0 0 30 28" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-left: 8px;">
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M13.5625 1.44012L15.0047 0L30.0037 14.999L15.0047 30L13.5625 28.5558L27.1193 14.999L13.5625 1.44012Z" fill="currentColor"/>
                                <path fill-rule="evenodd" clip-rule="evenodd" d="M5.72205e-06 1.44012L1.44219 0L16.4412 14.999L1.44219 30L5.72205e-06 28.5558L13.5569 14.999L5.72205e-06 1.44012Z" fill="currentColor"/>
                            </svg>
                        </span>
                    </button>
                    <div class="button-shadow"></div>
                </div>
                <div class="button-wrap">
                    <button id="aboutButton">
                        <span>Equipo
                            <svg width="12" height="11" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" style="display: inline-block; vertical-align: middle; margin-left: 8px;">
                                <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </span>
                    </button>
                    <div class="button-shadow"></div>
                </div>
            </div>
        </div>
        
        <!-- About/Equipo container (oculto inicialmente) -->
        <div class="about-container" id="aboutContainer">
            <div class="about-content">
                <section class="about-section">
                    <div class="section-content">
                        <h3 class="section-title">Descubre lo que sucede en Loja, más fácil que nunca</h3>
                        <p class="section-text">
                            <strong>¡Bienvenido a CantaClaro!</strong>
                        </p>
                        <p class="section-text">
                            Nuestro objetivo es simple: queremos que todos los grandes eventos de Loja tengan la acogida que merecen y que tú encuentres, de forma fácil, las mejores actividades de la ciudad.
                        </p>
                        <p class="section-text">
                            Este asistente nace para conectar al público con la increíble agenda cultural, académica y social lojana. Olvídate de buscar en múltiples sitios; CantaClaro centraliza la información para que sepas qué, cuándo y dónde están sucediendo las cosas.
                        </p>
                    </div>
                </section>
                
                <section class="about-section">
                    <div class="section-content">
                        <h3 class="section-title">Un prototipo hecho en Loja, para Loja</h3>
                        <p class="section-text">
                            Queremos ser transparentes: estás interactuando con la primera versión (prototipo) de CantaClaro.
                        </p>
                        <p class="section-text">
                            Como todo buen prototipo, está en una fase inicial de aprendizaje. Lo estamos entrenando intensamente para que conozca a fondo la agenda de la ciudad y pueda ofrecerte la información más precisa.
                        </p>
                        <p class="section-text">
                            Esperamos que este prototipo sea una excelente demostración de cómo la tecnología puede ayudar a que la vida cultural de Loja sea más accesible para todos. ¡Tu interacción nos ayuda a mejorarlo!
                        </p>
                    </div>
                </section>
                
                <section class="about-section team-section">
                    <div class="section-content">
                        <h3 class="section-title">Nuestro Equipo</h3>
                        <p class="section-intro">
                            Este proyecto es el resultado de la colaboración y el ingenio de:
                        </p>
                        <div class="team-members">
                            <div class="team-member featured">
                                <div class="member-photo">
                                    <div class="photo-placeholder">
                                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="member-info">
                                    <div class="member-name">Renata Maldonado</div>
                                    <div class="member-role">Desarrollo Principal</div>
                                </div>
                            </div>
                            <div class="team-member">
                                <div class="member-photo">
                                    <div class="photo-placeholder">
                                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="member-info">
                                    <div class="member-name">Juan David Garcia</div>
                                </div>
                            </div>
                            <div class="team-member">
                                <div class="member-photo">
                                    <div class="photo-placeholder">
                                        <svg width="60" height="60" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                            <path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            <path d="M12 11C14.2091 11 16 9.20914 16 7C16 4.79086 14.2091 3 12 3C9.79086 3 8 4.79086 8 7C8 9.20914 9.79086 11 12 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                    </div>
                                </div>
                                <div class="member-info">
                                    <div class="member-name">Renato Rojas</div>
                                </div>
                            </div>
                        </div>
                        <div class="recognition-box">
                            <p class="recognition-text">
                                <strong>Reconocimiento especial:</strong> Este proyecto fue desarrollado principalmente por Renata Maldonado, quien prácticamente realizó todo el trabajo de desarrollo, diseño e implementación del sistema.
                            </p>
                        </div>
                    </div>
                </section>
                
                <div class="about-actions">
                    <div class="button-wrap">
                        <button id="backToWelcomeButton">
                            <span>Volver</span>
                        </button>
                        <div class="button-shadow"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Chat container (oculto inicialmente) -->
        <div class="chat-container" id="chatContainer">
            <div class="chat-messages" id="chatMessages">
                <div class="message bot-message welcome-chat-message last">
                    <div class="message-content-wrapper">
                        <div class="message-content-inner">
                            <div class="welcome-gif-container">
                                <img src="{% static 'images/From-KlickPin-CF-A-acheter-Jai-unscreen.gif' %}" alt="CantaClaro" class="welcome-chat-gif">
                            </div>
                            <div class="message-line welcome-text">
                                <span class="welcome-greeting">¡Hola, mijo!</span>
                                <span class="welcome-question">¿Cómo te puedo ayudar hoy?</span>
                            </div>
                            <div class="faq-pills-container" id="faqPillsContainer">
                                <!-- Las pastillas se agregarán dinámicamente con JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="chat-input">
                <div class="chat-input-glass">
                    <input type="text" id="userInput" placeholder="¿Qué eventos hay en Loja? Pregúntame lo que quieras..." autocomplete="off">
                    <button id="micButton" type="button" aria-label="Grabar audio" class="input-icon-button">
                        <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true">
                            <path d="M12 14c1.66 0 3-1.34 3-3V5c0-1.66-1.34-3-3-3S9 3.34 9 5v6c0 1.66 1.34 3 3 3z" fill="currentColor"/>
                            <path d="M17 11c0 2.76-2.24 5-5 5s-5-2.24-5-5H5c0 3.53 2.61 6.43 6 6.92V21h2v-3.08c3.39-.49 6-3.39 6-6.92h-2z" fill="currentColor"/>
                        </svg>
                    </button>
                    <button id="sendButton" type="button" aria-label="Enviar mensaje" class="input-icon-button send-gif-button">
                        <img src="{% static 'images/From-KlickPin-CF-A-acheter-Jai-unscreen.gif' %}" alt="Enviar" class="send-gif">
                    </button>
                </div>
            </div>
        </div>
    </div>
    <script src="{% static 'chatbot/js/main.js' %}"></script>
</body>
</html>

